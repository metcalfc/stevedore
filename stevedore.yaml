boxes:
  centos: metcalfc/centos71-4.x
  ubuntu: metcalfc/trusty-4.x

roles:
  docker:
    -
      type: shell
      script: 'scripts/install-docker.sh'

  dtr:
    -
      type: shell
      script: 'scripts/install-dtr.sh'

  ducp:
    -
      type: shell
      script: 'scripts/install-ducp.sh'
      args:
        DUCP_USERNAME: 'admin'
        DUCP_PASSWORD: 'orca'

  join-ducp:
    -
      type: shell
      script: 'scripts/join-ducp.sh'
      args:
        DUCP_HOSTNAME: 'ducp.docker.vm'
        DUCP_USERNAME: 'admin'
        DUCP_PASSWORD: 'orca'

vm_defaults: &defaults
  box: 'ubuntu'
  domain: 'docker.vm'
  memory: 1792
  cpus: 2
  vboxnet: 'vboxnet1'
  roles: [docker, join-ducp]

vms:
  -
    <<: *defaults
    name: dev
    memory: 1024
    ip: '192.168.99.220'
    mac: '0800deadbeef'
    roles: [docker]

  -
    <<: *defaults
    name: dtr
    ip: '192.168.99.200'
    mac: '080027087dfe'
    roles: [docker, dtr]

  -
    <<: *defaults
    name: ducp
    ip: '192.168.99.201'
    mac: '080027c69bc2'
    labels:
        storage: 'ssd'
        location: 'rack1'
    roles: [docker, ducp]
  -
    <<: *defaults
    name: engine01
    ip: '192.168.99.211'
    mac: '0800278b3557'
    box: 'centos'
    labels:
        storage: 'magnetic'
        location: 'rack1'
  -
    <<: *defaults
    name: engine02
    ip: '192.168.99.212'
    mac: '080027e79dc9'
    labels:
        storage: 'ssd'
        location: 'rack2'
  -
    <<: *defaults
    name: engine03
    ip: '192.168.99.213'
    mac: '080027363bd3'
    box: 'centos'
    labels:
       storage: 'magnetic'
       location: 'rack2'
