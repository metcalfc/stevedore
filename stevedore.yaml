boxes:
  centos: metcalfc/centos71
  ubuntu: metcalfc/trusty

ucp_defaults: &ucp_defaults
    DUCP_USERNAME: 'admin'
    DUCP_PASSWORD: 'orca'
    DUCP_VERSION: '1.0.3'

roles:
  docker:
    -
      type: shell
      script: 'scripts/install-docker.sh'
      args:
        DOCKER_VERSION: '1.11'
        DOCKER_URL: 'https://packages.docker.com'
        DOCKER_INSTALL_FILE: 'install.sh'
        DOCKER_REPO_STRING: ''

  nfs:
    -
      type: shell
      script: 'scripts/install-nfs.sh'

  dtr:
    -
      type: shell
      script: 'scripts/install-dtr.sh'

  ducp:
    -
      type: shell
      script: 'scripts/install-ducp.sh'
      args:
          <<: *ucp_defaults

  join-ducp:
    -
      type: shell
      script: 'scripts/join-ducp.sh'
      args:
          <<: *ucp_defaults
          DUCP_HOSTNAME: 'ducp.docker.vm'

vm_defaults: &defaults
  box: 'ubuntu'
  domain: 'docker.vm'
  memory: 2048
  cpus: 2
  vboxnet: 'vboxnet1'
  roles: [nfs]

vms:
  -
    <<: *defaults
    name: engine01
    ip: '192.168.99.201'
    cnames: 'ducp,dtr'
    mac: '080027c69bc2'
    labels:
        storage: 'ssd'
        location: 'rack1'
  -
    <<: *defaults
    name: engine02
    ip: '192.168.99.202'
    cnames: 'voting,results'
    mac: '0800278b3557'
    box: 'centos'
    labels:
        storage: 'magnetic'
        location: 'rack1'
  -
    <<: *defaults
    name: engine03
    ip: '192.168.99.203'
    mac: '080027e79dc9'
    labels:
        storage: 'ssd'
        location: 'rack2'
  -
    <<: *defaults
    name: engine04
    ip: '192.168.99.204'
    mac: '080027363bd3'
    box: 'centos'
    labels:
       storage: 'magnetic'
       location: 'rack2'
